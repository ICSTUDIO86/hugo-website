<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>IC è§†å¥å·¥å…· - IC Studio </title>

<meta name="description" content="ä¸“ä¸šçº§è§†å¥æ—‹å¾‹ç”Ÿæˆå™¨ï¼ŒåŠ©åŠ›éŸ³ä¹å­¦ä¹ è€…å¿«é€Ÿæå‡è¯»è°±æŠ€èƒ½ï¼">
<meta name="keywords" content="[è§†å¥ç»ƒä¹ ,äº”çº¿è°±å­¦ä¹ ,éŸ³ä¹æ•™è‚²å·¥å…·,ä¹è°±ç”Ÿæˆå™¨,è¯»è°±è®­ç»ƒ,è§†å¥è½¯ä»¶,éŸ³ä¹å­¦ä¹ app,å‰ä»–è§†å¥,æ•°å­—éŸ³ä¹æ•™å­¦,AIéŸ³ä¹æ•™è‚²]">
<link rel="canonical" href="http://localhost:1313/sight-reading-tool-content/">

<meta property="og:title" content="IC è§†å¥å·¥å…· - IC Studio">
<meta property="og:description" content="ä¸“ä¸šçº§è§†å¥æ—‹å¾‹ç”Ÿæˆå™¨ï¼ŒåŠ©åŠ›éŸ³ä¹å­¦ä¹ è€…å¿«é€Ÿæå‡è¯»è°±æŠ€èƒ½ï¼">
<meta property="og:type" content="article">
<meta property="og:url" content="http://localhost:1313/sight-reading-tool-content/">
<meta property="og:site_name" content="IC Studio">
<meta property="og:image" content="http://localhost:1313/images/sight-reading-tool.png">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="IC è§†å¥å·¥å…· - IC Studio">
<meta name="twitter:description" content="ä¸“ä¸šçº§è§†å¥æ—‹å¾‹ç”Ÿæˆå™¨ï¼ŒåŠ©åŠ›éŸ³ä¹å­¦ä¹ è€…å¿«é€Ÿæå‡è¯»è°±æŠ€èƒ½ï¼">
<meta name="twitter:image" content="http://localhost:1313/images/sight-reading-tool.png">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "http:\/\/localhost:1313\/#organization",
      "name": "IC Studio",
      "url": "http:\/\/localhost:1313\/",
      "logo": {
        "@type": "ImageObject",
        "url": "http:\/\/localhost:1313\/images/ICLOGO.png"
      },
      "description": "IC Studio - ä¸“ä¸šéŸ³ä¹æ•™è‚²å¹³å°ã€‚æä¾›å‰ä»–å’Œå£°ã€ä½œæ›²æŠ€å·§ã€å³å…´æ¼”å¥æ•™å­¦ï¼Œä»¥åŠä¸“ä¸šçº§è§†å¥è®­ç»ƒå·¥å…·ã€‚ä»å‰ä»– Drop2ã€Shell Voicing åˆ°äº”å£°éŸ³é˜¶ã€å¸ƒé²æ–¯å³å…´ï¼ŒåŠ©åŠ›éŸ³ä¹å­¦ä¹ è€…å¿«é€Ÿæå‡æŠ€èƒ½ã€‚| IC Studio - Professional music education platform featuring guitar voicings, composition techniques, improvisation lessons, and professional sight reading training tools.",
      "sameAs": [
        "https://www.youtube.com/@ICStudio86",
        "https://space.bilibili.com/376362605"
      ]
    },
    {
      "@type": "WebSite",
      "@id": "http:\/\/localhost:1313\/#website",
      "url": "http:\/\/localhost:1313\/",
      "name": "IC Studio",
      "description": "IC Studio - ä¸“ä¸šéŸ³ä¹æ•™è‚²å¹³å°ã€‚æä¾›å‰ä»–å’Œå£°ã€ä½œæ›²æŠ€å·§ã€å³å…´æ¼”å¥æ•™å­¦ï¼Œä»¥åŠä¸“ä¸šçº§è§†å¥è®­ç»ƒå·¥å…·ã€‚ä»å‰ä»– Drop2ã€Shell Voicing åˆ°äº”å£°éŸ³é˜¶ã€å¸ƒé²æ–¯å³å…´ï¼ŒåŠ©åŠ›éŸ³ä¹å­¦ä¹ è€…å¿«é€Ÿæå‡æŠ€èƒ½ã€‚| IC Studio - Professional music education platform featuring guitar voicings, composition techniques, improvisation lessons, and professional sight reading training tools.",
      "publisher": {
        "@id": "http:\/\/localhost:1313\/#organization"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "http:\/\/localhost:1313\/search?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      },
      "inLanguage": "zh-CN"
    },
    {
      "@type": "WebPage",
      "@id": "http:\/\/localhost:1313\/sight-reading-tool-content\/#webpage",
      "url": "http:\/\/localhost:1313\/sight-reading-tool-content\/",
      "name": "IC è§†å¥å·¥å…·",
      "headline": "IC è§†å¥å·¥å…·",
      "description": "ä¸“ä¸šçº§è§†å¥æ—‹å¾‹ç”Ÿæˆå™¨ï¼ŒåŠ©åŠ›éŸ³ä¹å­¦ä¹ è€…å¿«é€Ÿæå‡è¯»è°±æŠ€èƒ½ï¼",
      "isPartOf": {
        "@id": "http:\/\/localhost:1313\/#website"
      },
      "publisher": {
        "@id": "http:\/\/localhost:1313\/#organization"
      },
      "inLanguage": "zh-CN",
      "datePublished": "2024-09-01T00:00:00Z",
      "author": {
        "@type": "Person",
        "name": "IC Studio"
      },
      "image": {
        "@type": "ImageObject",
        "url": "http:\/\/localhost:1313\/images\/sight-reading-tool.png"
      }}]
}
</script>
  <link rel="stylesheet" href="/css/style.css">


<link rel="icon" type="image/png" href="/ICLOGO.png">
<link rel="icon" type="image/png" sizes="16x16" href="/ICLOGO.png">
<link rel="icon" type="image/png" sizes="32x32" href="/ICLOGO.png">
<link rel="icon" type="image/png" sizes="64x64" href="/ICLOGO.png">
<meta name="msapplication-TileImage" content="/ICLOGO.png">
<meta name="theme-color" content="#ffffff">

<script defer src="https://cloud.umami.is/script.js" data-website-id="24f8b47e-5590-49d6-a19e-4c34929d6741"></script>



<script 
  src="https://www.paypal.com/sdk/js?client-id=BAAdjqh0FzrMwRH9fqeYMsT9ovDAkGo0OZUipoGljE5ZYJJcQ51wkmAaZhLoY0gR5f6nHlu9hhm6GjBgBE&components=hosted-buttons&disable-funding=venmo&currency=EUR">
</script>

</head>
<body>
  <header class="py-6 border-b"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8 flex flex-col">
	<div class="flex items-center">
		<div class="flex items-center">
			<button class="flex items-center space-x-2 rounded-full border py-1 pr-[5px] pl-3 group bg-zinc-100 hover:bg-zinc-200 toggle-button" data-target="menu-bar">
				<svg width="22" height="22" fill="currentColor" viewBox="0 0 16 16">
					<path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
				</svg>
				<span class="bg-blue-500 fill-white rounded-full p-1.5">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="group-hover:animate-spin bi bi-egg-fried fill-white" viewBox="0 0 16 16">
						<ellipse cx="8" cy="8" rx="6.8" ry="6.8" stroke="#FFFFFF" fill="none" stroke-width="2"></ellipse>
						<path d="M7.5 8.3c.47.03 1.48-.05 2.15-.01.3.01.47.12.54.14.71.31 1.17 1.19.93 1.96-.09.3-.34.72-.68.94-.4.26-.98.27-1.86.27-.35-.01-.52.08-1.09-.12-1.27-.44-1.79-1.28-1.91-2.31-.08-.65.11-1.28.44-1.81 1.15-1.66 2.78-1.1 4.56-1.23.63-.08.96-.4 1.11-.78.14-.35.13-.72.12-1.05-.02-.9-.43-1.39-1.23-1.49-.13-.02-.43.02-.43.02-.09.06-.22-.03-.59.33-.23.23-.35.37-.43.64-.06.2-.03 3.1-.03 3.2-.01.3-.03 3.58-.01 3.78.05.36-.04 1.01.01 1.62.1.81-.03 1.53-1 1.59-.52.03-.8-.4-.88-.76-.01-.06-.02-.12-.02-.18" 
          transform="translate(0.8, 1) scale(0.8)" 
          stroke="#FFFFFF" fill="none" stroke-width="0.96"></path>
				</svg>
				</span>
			</button>
			<div class="relative rounded-full py-1.5 px-6 bg-zinc-100 hover:bg-zinc-200 text-xl font-bold uppercase mx-2">
				<h2><a class="before:content-[''] before:z-10 before:top-0 before:right-0 before:left-0 before:bottom-0 before:absolute before:pointer-events-auto" href="http://localhost:1313/">IC Studio</a></h2>
			</div>
		</div>
		<div class="flex items-center ml-auto">
			<button class="flex items-center rounded-full p-3 bg-zinc-100 hover:bg-zinc-200 toggle-button" data-target="search-bar">
				<svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
					<path id="path1" class="transition-all ease-linear" d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
					<path id="path2" class="transition-all ease-linear hidden" d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"></path>
				</svg>
			</button>
		</div>
	</div>
  <nav id="menu-bar" class="block mt-3 close">
    <ul class="flex items-center flex flex-nowrap whitespace-nowrap overflow-x-auto space-x-4">
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/">ä¸»é¡µ</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="/blog/">Blog</a>
    </li>
    <li class="my-2">
      <a class="rounded-full border px-6 py-2 bg-zinc-100 hover:bg-zinc-200" href="https://icstudio.club/tools/melody-generator.html">è§†å¥å·¥å…·</a>
    </li>
    </ul>
  </nav>
<div id="search-bar" class="block mt-3 close relative">
	<form id="search" class="flex items-stretch">
		<input class="w-full block px-6 py-2 rounded-l-full focus:outline-none border border-zinc-200" type="text" placeholder="æœç´¢æ–‡ç« å†…å®¹...">
		<button type="submit" class="flex items-center px-7 py-2.5 rounded-r-full border border-zinc-200 hover:bg-zinc-50 transition-colors">
			<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="group-hover:animate-pulse" viewBox="0 0 16 16">
				<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
			</svg>
		</button>
	</form>
</div>

</div></header>
  <main class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8"><div id="breadcrumb" class="max-w-7xl mx-auto py-8">
    <ul class="flex space-x-4 text-sm text-zinc-500">
        <li class="after:content-['â¯'] after:ml-4 after:opacity-30 last:after:content-none uppercase">
            <a href="http://localhost:1313/">IC Studio</a>
        </li>
    </ul>
</div><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "é¦–é¡µ",
      "item": "http:\/\/localhost:1313\/"
    },{
      "@type": "ListItem",
      "position":  2 ,
      "name": "IC Studio",
      "item": "http:\/\/localhost:1313\/"
    }]
}
</script><div class="grid grid-cols-1 md:grid-cols-1 gap-6 mb-14 justify-center">

  <article class="prose lg:prose-lg mx-auto">

    <header class="not-prose">
      
      <h1 id="title" class="text-4xl font-bold leading-normal text-center">IC è§†å¥å·¥å…·</h1>

      <div id="writer" class="flex items-center space-x-4"><ul class="flex items-center space-x-4 flex-nowrap whitespace-nowrap overflow-x-auto">
          


        </ul>

      </div>
      
    </header>

    <figure id="featureimage" class="rounded-xl aspect-video">
            <img class="rounded-lg" src="http://localhost:1313/images/sight-reading-tool_hu_17ef0c0022a2e0e1.png" alt="" width="750" height="422">

    </figure>

    <div id="content" class="mb-14">
      <p>Â·Â·Â·Â·</p>
<h2 id="action-section">ğŸ¯ ç«‹å³è¡ŒåŠ¨</h2>
<p>âš¡ <strong>æ—©é¸Ÿä»· 48.00Â¥</strong>ï¼ˆæˆªæ­¢äº10æœˆ01æ—¥ï¼‰â€”â€” æ”¯æŒç½‘é¡µç‰ˆä»¥åŠç”µè„‘è½¯ä»¶ï¼Œç°åœ¨è´­ä¹°å¯åœ¨æœªæ¥<strong>å…è´¹è§£é”</strong>æ›´è¿›é˜¶çš„åŠŸèƒ½ï¼</p>
<div style="display: flex; gap: 30px; margin: 30px auto; max-width: 1000px; align-items: flex-start; flex-wrap: wrap;">
<div style="flex: 1; min-width: 300px; padding: 25px; background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%); border-radius: 16px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1); border: 2px solid #e6edff; text-align: center;">
<h3 style="color: #4a5568; margin-bottom: 6px; font-size: 20px;">è§£é”è§†å¥å·¥å…·</h3>
<p style="color: #718096; font-size: 14px; margin: 0 0 20px 0;">æ”¯æŒ 7 å¤©æ— ç†ç”±é€€æ¬¾</p>
<p><a href="/tools/melody-generator.html" target="_blank" style="display: block; background: #f8f9fa; color: #667eea; padding: 12px 20px; border: 2px solid #667eea; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 15px; transition: all 0.3s ease; margin-bottom: 15px;" onmouseover="this.style.background='#667eea'; this.style.color='white';" onmouseout="this.style.background='#f8f9fa'; this.style.color='#667eea';">å…è´¹è¯•ç”¨</a></p>
<div style="display: flex; gap: 10px; margin-bottom: 20px;">
<button id="zpay-btn" onclick="window.createZPayment()" style="flex: 1; background: linear-gradient(135deg, #1677FF 0%, #00A0E9 100%); color: white; padding: 12px 16px; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; box-shadow: 0 4px 15px rgba(22, 119, 255, 0.3); transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 20px rgba(22, 119, 255, 0.4)';" onmouseout="this.style.transform='translateY(0px)'; this.style.boxShadow='0 4px 15px rgba(22, 119, 255, 0.3)';">æ”¯ä»˜å®æ”¯ä»˜</button>
<button id="wxpay-btn" onclick="window.createWxPayment()" style="flex: 1; background: linear-gradient(135deg, #09BB07 0%, #00D100 100%); color: white; padding: 12px 16px; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; box-shadow: 0 4px 15px rgba(9, 187, 7, 0.3); transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 20px rgba(9, 187, 7, 0.4)';" onmouseout="this.style.transform='translateY(0px)'; this.style.boxShadow='0 4px 15px rgba(9, 187, 7, 0.3)';">å¾®ä¿¡æ”¯ä»˜</button>
</div>
<div style="border-top: 1px solid #e6edff; padding-top: 6px;">
<h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">å·²æœ‰è®¿é—®ç ï¼Ÿç«‹å³ä½¿ç”¨</h3>
<div style="display: flex; gap: 10px; align-items: center;">
<input type="text" id="access-code-input" placeholder="è¾“å…¥è®¿é—®ç (11-12ä½)" style="flex: 1; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; text-transform: uppercase; transition: border-color 0.3s ease;" maxlength="12" oninput="handleInputChange()" onkeyup="handleInputChange()" onfocus="this.style.borderColor='#667eea'" onblur="this.style.borderColor='#ddd'">
<button id="verify-btn" onclick="handleVerifyClick()" style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: not-allowed; font-weight: 600; font-size: 14px; transition: all 0.3s ease; opacity: 1;" onmousedown="this.style.opacity='0.3'; this.style.transform='scale(0.98)'" onmouseup="this.style.transform='scale(1)'; setTimeout(() => { this.style.opacity='1'; }, 100)" onmouseleave="this.style.transform='scale(1)'; setTimeout(() => { this.style.opacity='1'; }, 100)">éªŒè¯</button>
</div>
<div id="verify-result" style="margin-top: 15px; font-size: 14px; text-align: center;"></div>
</div>
</div>
<div style="flex: 1; min-width: 50%;">
<iframe src="https://icstudio3.gumroad.com/l/sight-reading-tools" frameborder="0" width="100%" height="500" style="border:0;"></iframe>
</div>
</div>
<h2 id="-å¸¸è§é—®é¢˜-faq">â“ å¸¸è§é—®é¢˜ FAQ</h2>
<h3 id="å¿˜è®°è®¿é—®ç äº†æ€ä¹ˆåŠ">å¿˜è®°è®¿é—®ç äº†æ€ä¹ˆåŠï¼Ÿ</h3>
 <div style="background: #fff3e0; padding: 20px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #ff9800;">
å¦‚æœæ‚¨å¿˜è®°äº†è®¿é—®ç ï¼Œå¯ä»¥é€šè¿‡æ‚¨çš„è®¢å•å·æ‰¾å›ï¼š
<div style="margin: 15px 0; text-align: center;">
<button id="recover-access-code-btn" style="
  background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 20px rgba(33, 150, 243, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(33, 150, 243, 0.3)'">
ğŸ” é€šè¿‡è®¢å•å·æ‰¾å›è®¿é—®ç 
</button>
</div> 
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>è®¢å•å·æˆ–è€…å•†å®¶è®¢å•å·å¯åœ¨æ”¯ä»˜å®æˆ–è€…å¾®ä¿¡çš„<strong>è´¦å•è®°å½•</strong>é‡Œæ‰¾åˆ°ã€‚</li>
<li><strong>å•†å®¶è®¢å•å·</strong>æ ¼å¼å¦‚ <code>IC17575395673154298</code></li>
<li><strong>è®¢å•å·</strong>æ ¼å¼å¦‚ <code>2025097832001480241441480505</code></li>
</ul>
</div>
<h3 id="è®¿é—®ç ä¸èƒ½æ­£å¸¸å·¥ä½œ">è®¿é—®ç ä¸èƒ½æ­£å¸¸å·¥ä½œï¼Ÿ</h3>
<div style="background: #efe7f2ff; padding: 20px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #bba0ca;">
å¦‚æœåœ¨è¾“å…¥éªŒè¯ç ä¹‹åå·¥å…·è¿˜æ˜¯å¤„äºè¯•ç”¨ç‰ˆæœ¬çš„è¯ï¼Œåªè¦å¤šåˆ·æ–°ä¸€ä¸‹é¡µé¢å°±å¥½äº†ã€‚
</div>
<h3 id="å¦‚ä½•é€€æ¬¾">å¦‚ä½•é€€æ¬¾ï¼Ÿ</h3>
<div style="background: #e8f5e8; padding: 20px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #4caf50;">
æˆ‘ä»¬ç†è§£æ‚¨å¯èƒ½ä¼šé‡åˆ°å„ç§æƒ…å†µï¼Œå› æ­¤æä¾› <strong>7å¤©æ— ç†ç”±é€€æ¬¾æ”¿ç­–</strong>ï¼š
<p><strong>é€€æ¬¾æ¡ä»¶ï¼š</strong></p>
<ul>
<li>è´­ä¹°å7å¤©å†…å¯ç”³è¯·é€€æ¬¾</li>
<li>è¶…è¿‡7å¤©ä¸æ”¯æŒé€€æ¬¾</li>
</ul>
<p><strong>åœ¨çº¿é€€æ¬¾ï¼š</strong></p>
<div style="margin: 15px 0; text-align: center;">
<button id="refund-btn" style="
  background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(245, 101, 101, 0.3);
" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 20px rgba(245, 101, 101, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(245, 101, 101, 0.3)'">
ç”³è¯·åœ¨çº¿é€€æ¬¾
</button>
</div>
</div>
<h3 id="æœ‰å…¶ä»–é—®é¢˜æ¬¢è¿è”ç³»æˆ‘">æœ‰å…¶ä»–é—®é¢˜ï¼Ÿæ¬¢è¿è”ç³»æˆ‘ï¼</h3>
<div style="background: #e3f2fd; padding: 20px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #2196f3;">
å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»¥ä¸‹ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿é€šè¿‡ä¸‹é¢çš„è”ç³»æ–¹å¼è”ç³»æˆ‘ï¼Œæˆ‘ä¼šå°½å¿«ä¸ºæ‚¨è§£å†³ï¼š
<ul>
<li>ä½¿ç”¨å·¥å…·æ—¶æœ‰é‡åˆ°bug</li>
<li>æ‰¾å›è®¿é—®ç ä¸èƒ½æ­£å¸¸å·¥ä½œ</li>
<li>é€€æ¬¾æŒ‰é’®ä¸èƒ½æ­£å¸¸å·¥ä½œ</li>
<li>ä»»ä½•å…¶ä»–å…³äºäº§å“çš„å’¨è¯¢</li>
</ul>
<p><strong>è”ç³»æ–¹å¼ï¼š</strong></p>
<ul>
<li>é‚®ç®±ï¼š<strong><a href="mailto:service@icstudio.club">service@icstudio.club</a></strong></li>
<li>è”ç³»é¡µé¢ï¼š<a href="/contact/">ç‚¹æ­¤è®¿é—®</a></li>
<li>æ‰€æœ‰ä¿¡æ¯å°†åœ¨æœ€å¤š 48 å°æ—¶å†…å›å¤</li>
</ul>
</div>
</div>
<!-- ç®€åŒ–è„šæœ¬ -->
<!-- CloudBase SDK -->
<script src="https://imgcache.qq.com/qcloud/cloudbase-js-sdk/1.5.0/cloudbase.full.js"></script>
<!-- ç»Ÿä¸€æ”¯ä»˜æˆåŠŸå¤„ç†å™¨ -->
<script src="/js/payment-success-handler.js?v=20250909"></script>
<!-- é«˜çº§è¯•ç”¨ä¿æŠ¤ç³»ç»Ÿ -->
<script src="/js/advanced-trial-protection.js?v=20250920"></script>
<!-- åŸæœ‰è¯•ç”¨ç³»ç»Ÿï¼ˆä½œä¸ºå¤‡ç”¨ï¼‰ -->
<script src="/js/trial-limiter.js?v=20250909"></script>
<script src="/js/cloudbase-api.js?v=20250909"></script>
<!-- æ”¯ä»˜çŠ¶æ€ç®¡ç†å™¨ -->
<script src="/js/payment-state-manager.js?v=20250909"></script>
<!-- ä¸‹è½½å¤„ç†å‡½æ•° -->
<script>
function downloadFile(url, filename) {
    console.log('ğŸ”½ å¼€å§‹ä¸‹è½½æ–‡ä»¶:', filename);
    console.log('ğŸ”— åŸå§‹URL:', url);
    
    // æ„å»ºå®Œæ•´URL
    const fullUrl = new URL(url, window.location.origin).href;
    console.log('ğŸ“ å®Œæ•´URL:', fullUrl);
    
    // åˆ›å»ºä¸´æ—¶ä¸‹è½½é“¾æ¥å…ƒç´ 
    const downloadLink = document.createElement('a');
    downloadLink.href = fullUrl;
    downloadLink.download = filename;
    downloadLink.style.display = 'none';
    
    // æ·»åŠ åˆ°é¡µé¢
    document.body.appendChild(downloadLink);
    
    try {
        // è§¦å‘ä¸‹è½½
        downloadLink.click();
        console.log('âœ… ä¸‹è½½å·²å¯åŠ¨:', filename);
        showDownloadNotification(filename);
    } catch (error) {
        console.error('âŒ ä¸‹è½½å¤±è´¥:', error);
        // é™çº§åˆ°ç›´æ¥æ‰“å¼€
        window.open(fullUrl, '_blank');
        showDownloadNotification(filename);
    }
    
    // æ¸…ç†ä¸´æ—¶å…ƒç´ 
    setTimeout(() => {
        if (downloadLink.parentNode) {
            document.body.removeChild(downloadLink);
        }
    }, 100);
}

function showDownloadNotification(message, type = 'success') {
    // åˆ›å»ºä¸´æ—¶é€šçŸ¥
    const notification = document.createElement('div');
    const bgColor = type === 'success' ? '#22c55e' : '#ef4444';
    
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${bgColor};
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        z-index: 10000;
        font-size: 14px;
        font-weight: 600;
    `;
    
    if (type === 'success') {
        notification.innerHTML = `ğŸ”½ æ­£åœ¨ä¸‹è½½ ${message}...`;
    } else {
        notification.innerHTML = `âŒ ${message}`;
    }
    
    document.body.appendChild(notification);
    
    // 3ç§’åç§»é™¤é€šçŸ¥
    setTimeout(() => {
        if (notification.parentNode) {
            notification.style.opacity = '0';
            notification.style.transition = 'opacity 0.3s ease';
            setTimeout(() => {
                if (notification.parentNode) {
                    document.body.removeChild(notification);
                }
            }, 300);
        }
    }, 3000);
}

function copyAccessCode(accessCode) {
    console.log('ğŸ“‹ å¤åˆ¶è®¿é—®ç :', accessCode);
    
    // ä½¿ç”¨ç°ä»£çš„Clipboard API
    if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(accessCode).then(() => {
            showCopyNotification('è®¿é—®ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        }).catch(err => {
            console.error('å¤åˆ¶å¤±è´¥:', err);
            fallbackCopyTextToClipboard(accessCode);
        });
    } else {
        // é™çº§æ–¹æ¡ˆ
        fallbackCopyTextToClipboard(accessCode);
    }
}

function fallbackCopyTextToClipboard(text) {
    const textArea = document.createElement('textarea');
    textArea.value = text;
    textArea.style.top = '0';
    textArea.style.left = '0';
    textArea.style.position = 'fixed';
    
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    
    try {
        const successful = document.execCommand('copy');
        if (successful) {
            showCopyNotification('è®¿é—®ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
        } else {
            showCopyNotification('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
        }
    } catch (err) {
        console.error('Fallbackå¤åˆ¶å¤±è´¥:', err);
        showCopyNotification('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
    }
    
    document.body.removeChild(textArea);
}

function showCopyNotification(message, type = 'success') {
    const notification = document.createElement('div');
    const bgColor = type === 'success' ? '#22c55e' : '#ef4444';
    
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${bgColor};
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        z-index: 10000;
        font-size: 14px;
        font-weight: 600;
    `;
    notification.innerHTML = `ğŸ“‹ ${message}`;
    
    document.body.appendChild(notification);
    
    // 2ç§’åç§»é™¤é€šçŸ¥
    setTimeout(() => {
        if (notification.parentNode) {
            notification.style.opacity = '0';
            notification.style.transition = 'opacity 0.3s ease';
            setTimeout(() => {
                if (notification.parentNode) {
                    document.body.removeChild(notification);
                }
            }, 300);
        }
    }, 2000);
}

// è®¿é—®ç éªŒè¯ç›¸å…³å‡½æ•°
function handleInputChange() {
    const input = document.getElementById('access-code-input');
    const btn = document.getElementById('verify-btn');
    
    if (input.value.trim().length >= 8) {
        btn.style.cursor = 'pointer';
        btn.style.opacity = '1';
        btn.style.background = '#667eea';
    } else {
        btn.style.cursor = 'not-allowed';
        btn.style.opacity = '0.7';
        btn.style.background = '#999';
    }
}

async function handleVerifyClick() {
    const input = document.getElementById('access-code-input');
    const btn = document.getElementById('verify-btn');
    const resultDiv = document.getElementById('verify-result');
    
    const accessCode = input.value.trim().toUpperCase();
    
    if (accessCode.length < 8) {
        resultDiv.innerHTML = '<div style="color: #e74c3c; background: #ffeaa7; padding: 10px; border-radius: 8px;">âŒ è¯·è¾“å…¥æœ‰æ•ˆçš„è®¿é—®ç </div>';
        return;
    }
    
    // æ˜¾ç¤ºéªŒè¯ä¸­çŠ¶æ€
    const originalText = btn.innerHTML;
    btn.innerHTML = 'éªŒè¯ä¸­...';
    btn.disabled = true;
    
    try {
        // è°ƒç”¨CloudBaseéªŒè¯å‡½æ•°ï¼ˆå¤ç”¨æ”¯ä»˜æˆåŠŸæ—¶çš„checkOrderDetailsï¼‰
        const response = await fetch('https://cloud1-4g1r5ho01a0cfd85-1377702774.ap-shanghai.app.tcloudbase.com/checkOrderDetails', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-Request-Source': 'IC-Studio-Access-Verify'
            },
            body: JSON.stringify({
                access_code: accessCode
            })
        });
        
        const result = await response.json();
        console.log('ğŸ” è®¿é—®ç éªŒè¯ç»“æœ:', result);
        
        if (result.success && result.order_data) {
            const orderData = result.order_data;
            
            // æ˜¾ç¤ºéªŒè¯æˆåŠŸä¿¡æ¯å’Œä¸‹è½½é€‰é¡¹
            resultDiv.innerHTML = `
                <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border: 1px solid #4caf50;">
                    <div style="color: #2e7d32; font-weight: bold; margin-bottom: 10px;">
                        âœ… è®¿é—®ç éªŒè¯æˆåŠŸï¼
                    </div>
                    <div style="font-size: 12px; color: #666; margin-bottom: 15px;">
                        è®¢å•å·ï¼š${orderData.orderNumber}<br>
                        è´­ä¹°æ—¶é—´ï¼š${new Date(orderData.paymentTime).toLocaleString()}
                    </div>
                    
                    <!-- ä¸‹è½½é€‰é¡¹ -->
                    <div style="margin-top: 15px;">
                        <div style="font-weight: bold; margin-bottom: 10px; color: #17a2b8;">
                            ğŸ“¦ ä¸‹è½½å®‰è£…åŒ…
                        </div>
                        <button id="show-download-panel-btn" onclick="toggleDownloadPanel()" style="
                            background: #17a2b8;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 6px;
                            cursor: pointer;
                            font-weight: 600;
                            font-size: 13px;
                            width: 100%;
                            margin-bottom: 10px;
                        ">
                            ğŸ’» é€‰æ‹©å®‰è£…åŒ…
                        </button>
                        
                        <!-- ä¸‹è½½é¢æ¿ï¼ˆåˆå§‹éšè—ï¼‰ -->
                        <div id="download-panel" style="display: none; background: #f8f9fa; padding: 15px; border-radius: 6px; margin-top: 10px;">
                            <div style="text-align: left;">
                                <!-- Windows -->
                                <div style="margin-bottom: 10px;">
                                    <div style="font-weight: bold; font-size: 12px; margin-bottom: 5px; color: #dc3545;">
                                        ğŸ–¥ï¸ Windows
                                    </div>
                                    <button class="download-platform-btn" data-platform="windows-exe" style="
                                        margin: 2px 3px 2px 0;
                                        padding: 6px 10px;
                                        background: #dc3545;
                                        color: white;
                                        border: none;
                                        border-radius: 4px;
                                        cursor: pointer;
                                        font-size: 10px;
                                        font-weight: 500;
                                    ">
                                        æ ‡å‡†ç‰ˆ (140.9MB)
                                    </button>
                                    <button class="download-platform-btn" data-platform="windows-x64" style="
                                        margin: 2px 3px 2px 0;
                                        padding: 6px 10px;
                                        background: #dc3545;
                                        color: white;
                                        border: none;
                                        border-radius: 4px;
                                        cursor: pointer;
                                        font-size: 10px;
                                        font-weight: 500;
                                    ">
                                        ä¼˜åŒ–ç‰ˆ (73.2MB)
                                    </button>
                                </div>
                                
                                <!-- macOS -->
                                <div style="margin-bottom: 10px;">
                                    <div style="font-weight: bold; font-size: 12px; margin-bottom: 5px; color: #6f42c1;">
                                        ğŸ macOS
                                    </div>
                                    <button class="download-platform-btn" data-platform="macos-x64-dmg" style="
                                        margin: 2px 3px 2px 0;
                                        padding: 6px 10px;
                                        background: #6f42c1;
                                        color: white;
                                        border: none;
                                        border-radius: 4px;
                                        cursor: pointer;
                                        font-size: 10px;
                                        font-weight: 500;
                                    ">
                                        Intel (DMG)
                                    </button>
                                    <button class="download-platform-btn" data-platform="macos-arm64" style="
                                        margin: 2px 3px 2px 0;
                                        padding: 6px 10px;
                                        background: #6f42c1;
                                        color: white;
                                        border: none;
                                        border-radius: 4px;
                                        cursor: pointer;
                                        font-size: 10px;
                                        font-weight: 500;
                                    ">
                                        M1/M2/M3 (DMG)
                                    </button>
                                </div>
                                
                                <!-- Linux -->
                                <div style="margin-bottom: 5px;">
                                    <div style="font-weight: bold; font-size: 12px; margin-bottom: 5px; color: #fd7e14;">
                                        ğŸ§ Linux
                                    </div>
                                    <button class="download-platform-btn" data-platform="linux-deb" style="
                                        margin: 2px 3px 2px 0;
                                        padding: 6px 10px;
                                        background: #fd7e14;
                                        color: white;
                                        border: none;
                                        border-radius: 4px;
                                        cursor: pointer;
                                        font-size: 10px;
                                        font-weight: 500;
                                    ">
                                        DEBåŒ… (70.3MB)
                                    </button>
                                </div>
                                
                                <div style="font-size: 9px; color: #6c757d; margin-top: 8px; line-height: 1.3;">
                                    ğŸ’¡ <strong>èŠ¯ç‰‡é€‰æ‹©è¯´æ˜ï¼š</strong><br>
                                    â€¢ Intel èŠ¯ç‰‡ Mac é€‰æ‹© x64 ç‰ˆæœ¬<br>
                                    â€¢ Apple Silicon (M1/M2/M3) é€‰æ‹© arm64 ç‰ˆæœ¬
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // ç»‘å®šä¸‹è½½æŒ‰é’®äº‹ä»¶
            bindDownloadEvents(accessCode);
            
        } else {
            resultDiv.innerHTML = `<div style="color: #e74c3c; background: #ffeaa7; padding: 10px; border-radius: 8px;">âŒ ${result.error || 'è®¿é—®ç æ— æ•ˆæˆ–å·²å¤±æ•ˆ'}</div>`;
        }
        
    } catch (error) {
        console.error('âŒ éªŒè¯å¤±è´¥:', error);
        resultDiv.innerHTML = '<div style="color: #e74c3c; background: #ffeaa7; padding: 10px; border-radius: 8px;">âŒ éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥</div>';
    }
    
    // æ¢å¤æŒ‰é’®çŠ¶æ€
    btn.innerHTML = originalText;
    btn.disabled = false;
}

function toggleDownloadPanel() {
    const panel = document.getElementById('download-panel');
    const btn = document.getElementById('show-download-panel-btn');
    
    if (panel.style.display === 'none') {
        panel.style.display = 'block';
        btn.innerHTML = 'ğŸ“¦ æ”¶èµ·é€‰é¡¹';
    } else {
        panel.style.display = 'none';
        btn.innerHTML = 'ğŸ’» é€‰æ‹©å®‰è£…åŒ…';
    }
}

function bindDownloadEvents(accessCode) {
    // ç»‘å®šæ‰€æœ‰ä¸‹è½½æŒ‰é’®
    document.querySelectorAll('.download-platform-btn').forEach(btn => {
        btn.onclick = async function() {
            const platform = this.getAttribute('data-platform');
            const originalText = this.innerHTML;
            this.innerHTML = 'â³ è·å–...';
            
            try {
                console.log(`ğŸ“¥ å¼€å§‹ä¸‹è½½ ${platform} ç‰ˆæœ¬`);
                
                // è°ƒç”¨ä¸‹è½½äº‘å‡½æ•°
                const response = await fetch('https://cloud1-4g1r5ho01a0cfd85-1377702774.ap-shanghai.app.tcloudbase.com/downloadInstaller', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Request-Source': 'IC-Studio-Access-Verify'
                    },
                    body: JSON.stringify({
                        access_code: accessCode,
                        platform: platform
                    })
                });
                
                const result = await response.json();
                console.log('ğŸ“¥ ä¸‹è½½å“åº”:', result);
                
                if (result.success && result.data && result.data.download_url) {
                    // åˆ›å»ºä¸‹è½½é“¾æ¥
                    const link = document.createElement('a');
                    link.href = result.data.download_url;
                    link.download = result.data.package_info.name;
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);

                    // æ˜¾ç¤ºæˆåŠŸçŠ¶æ€
                    this.innerHTML = 'âœ… ä¸‹è½½ä¸­';
                    console.log(`ğŸ‰ ${result.data.package_info.name} ä¸‹è½½å·²å¼€å§‹`);

                    showDownloadNotification(result.data.package_info.name);

                    // å¦‚æœæœ‰å®‰è£…æŒ‡å—ï¼ˆmacOS ç‰ˆæœ¬ï¼‰ï¼Œè‡ªåŠ¨ä¸‹è½½ Markdown ç‰ˆæœ¬
                    if (result.data.install_guide && result.data.install_guide.markdown) {
                        console.log('ğŸ“– æ£€æµ‹åˆ°å®‰è£…æŒ‡å—ï¼Œå‡†å¤‡ä¸‹è½½...');
                        setTimeout(() => {
                            const guideLink = document.createElement('a');
                            guideLink.href = result.data.install_guide.markdown;
                            guideLink.download = 'IC-SightReading-Tool-å®‰è£…è¯´æ˜.md';
                            guideLink.style.display = 'none';
                            document.body.appendChild(guideLink);
                            guideLink.click();
                            document.body.removeChild(guideLink);

                            showDownloadNotification('å®‰è£…è¯´æ˜æ–‡æ¡£');
                            console.log('âœ… å®‰è£…è¯´æ˜å·²ä¸‹è½½');
                        }, 1000); // å»¶è¿Ÿ1ç§’ï¼Œé¿å…æµè§ˆå™¨é˜»æ­¢å¤šä¸ªä¸‹è½½
                    }

                } else {
                    throw new Error(result.error || 'è·å–ä¸‹è½½é“¾æ¥å¤±è´¥');
                }
            } catch (error) {
                console.error('âŒ ä¸‹è½½å¤±è´¥:', error);
                this.innerHTML = 'âŒ å¤±è´¥';
                showDownloadNotification('ä¸‹è½½å¤±è´¥ï¼š' + error.message, 'error');
            }
            
            // 3ç§’åæ¢å¤æŒ‰é’®æ–‡æœ¬
            setTimeout(() => {
                this.innerHTML = originalText;
            }, 3000);
        };
    });
}

// ç»‘å®šå¼¹çª—ä¸‹è½½æŒ‰é’®äº‹ä»¶
function bindPopupDownloadEvents(accessCode) {
    document.querySelectorAll('.popup-download-btn').forEach(btn => {
        btn.onclick = async function() {
            const platform = this.getAttribute('data-platform');
            const originalText = this.innerHTML;
            this.innerHTML = 'â³ è·å–é“¾æ¥...';
            this.disabled = true;
            
            try {
                console.log(`ğŸ“¥ å¼¹çª—ä¸‹è½½ ${platform} ç‰ˆæœ¬`);
                
                // è°ƒç”¨CloudBase downloadInstalleræœåŠ¡
                const response = await fetch('https://cloud1-4g1r5ho01a0cfd85-1377702774.ap-shanghai.app.tcloudbase.com/downloadInstaller', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Request-Source': 'IC-Studio-Success-Popup'
                    },
                    body: JSON.stringify({
                        access_code: accessCode,
                        platform: platform
                    })
                });
                
                const result = await response.json();
                console.log('ğŸ“¥ å¼¹çª—ä¸‹è½½å“åº”:', result);
                
                if (result.success && result.data && result.data.download_url) {
                    // åˆ›å»ºä¸‹è½½é“¾æ¥
                    const link = document.createElement('a');
                    link.href = result.data.download_url;
                    link.download = result.data.package_info.name;
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);

                    // æ˜¾ç¤ºæˆåŠŸçŠ¶æ€
                    this.innerHTML = 'âœ… ä¸‹è½½å¼€å§‹';
                    console.log(`ğŸ‰ å¼¹çª—ä¸‹è½½æˆåŠŸ: ${result.data.package_info.name}`);

                    showDownloadNotification(result.data.package_info.name);

                    // å¦‚æœæœ‰å®‰è£…æŒ‡å—ï¼ˆmacOS ç‰ˆæœ¬ï¼‰ï¼Œè‡ªåŠ¨ä¸‹è½½ Markdown ç‰ˆæœ¬
                    if (result.data.install_guide && result.data.install_guide.markdown) {
                        console.log('ğŸ“– å¼¹çª—ï¼šæ£€æµ‹åˆ°å®‰è£…æŒ‡å—ï¼Œå‡†å¤‡ä¸‹è½½...');
                        setTimeout(() => {
                            const guideLink = document.createElement('a');
                            guideLink.href = result.data.install_guide.markdown;
                            guideLink.download = 'IC-SightReading-Tool-å®‰è£…è¯´æ˜.md';
                            guideLink.style.display = 'none';
                            document.body.appendChild(guideLink);
                            guideLink.click();
                            document.body.removeChild(guideLink);

                            showDownloadNotification('å®‰è£…è¯´æ˜æ–‡æ¡£');
                            console.log('âœ… å¼¹çª—ï¼šå®‰è£…è¯´æ˜å·²ä¸‹è½½');
                        }, 1000); // å»¶è¿Ÿ1ç§’ï¼Œé¿å…æµè§ˆå™¨é˜»æ­¢å¤šä¸ªä¸‹è½½
                    }

                } else {
                    throw new Error(result.error || 'è·å–ä¸‹è½½é“¾æ¥å¤±è´¥');
                }
            } catch (error) {
                console.error('âŒ å¼¹çª—ä¸‹è½½å¤±è´¥:', error);
                this.innerHTML = 'âŒ ä¸‹è½½å¤±è´¥';
                showDownloadNotification('ä¸‹è½½å¤±è´¥ï¼š' + error.message, 'error');
            }
            
            // 3ç§’åæ¢å¤æŒ‰é’®çŠ¶æ€
            setTimeout(() => {
                this.innerHTML = originalText;
                this.disabled = false;
            }, 3000);
        };
    });
}
</script>
<!-- Z-Pay ç®€åŒ–é¡µé¢è·³è½¬æ”¯ä»˜å®ç° -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script src="/js/new-refund-handler.js?v=2.0.0"></script>
<script src="/js/zpay-simple.js?v=1.0.9"></script>
<!-- æ”¯ä»˜å®è´¦å·æŸ¥æ‰¾è®¿é—®ç åŠŸèƒ½ -->
<script src="/js/alipay-lookup.js?v=1.0.1"></script>
<!-- è¯•ç”¨çŠ¶æ€æ˜¾ç¤ºåŒºåŸŸ -->
<div id="trial-status" style="margin: 20px 0; padding: 15px; border-radius: 8px; background: #f8f9fa; display: none;"></div>
<!-- è°ƒè¯•ä¸‹è½½æµ‹è¯• -->
<!-- æ ·å¼å®šä¹‰ -->
<style>
.trial-expired {
  text-align: center;
  background: #fff5f5;
  border: 2px solid #fed7d7;
  padding: 20px;
  border-radius: 8px;
}

.trial-expired h3 {
  color: #c53030;
  margin-bottom: 10px;
}

.trial-welcome {
  text-align: center;
  background: #f0fff4;
  border: 2px solid #9ae6b4;
  padding: 20px;
  border-radius: 8px;
}

.trial-welcome h3 {
  color: #2f855a;
  margin-bottom: 10px;
}

.trial-active {
  text-align: center;
  background: #ebf8ff;
  border: 2px solid #90cdf4;
  padding: 15px;
  border-radius: 8px;
}

.trial-active h3 {
  color: #2b6cb0;
  margin-bottom: 10px;
}

.trial-active .warning {
  color: #d69e2e;
  font-weight: 500;
  margin-top: 10px;
}

.upgrade-options {
  margin-top: 20px;
}

.upgrade-btn {
  display: inline-block;
  background: linear-gradient(135deg, #1677FF 0%, #00A0E9 100%);
  color: white !important;
  padding: 15px 30px;
  border-radius: 12px;
  text-decoration: none !important;
  font-weight: 600;
  box-shadow: 0 8px 25px rgba(22, 119, 255, 0.3);
  transition: all 0.3s ease;
}

.upgrade-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 35px rgba(22, 119, 255, 0.4);
}

.upgrade-btn.primary {
  font-size: 16px;
}

.note {
  font-size: 12px;
  color: #666;
  margin-top: 10px;
}

.trial-warning-popup {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

.warning-content {
  background: white;
  padding: 30px;
  border-radius: 12px;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
}

.warning-buttons {
  margin-top: 20px;
  display: flex;
  gap: 15px;
  justify-content: center;
}

.btn-secondary, .btn-primary {
  padding: 10px 20px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 500;
  cursor: pointer;
  border: none;
  transition: all 0.3s ease;
}

.btn-secondary {
  background: #f7fafc;
  color: #2d3748;
  border: 1px solid #e2e8f0;
}

.btn-primary {
  background: #667eea;
  color: white;
}

.btn-secondary:hover {
  background: #edf2f7;
}

.btn-primary:hover {
  background: #5a6fd8;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .trial-warning-popup .warning-content {
    margin: 20px;
    padding: 20px;
  }
  
  .warning-buttons {
    flex-direction: column;
  }
}
</style>
<script>
// é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºè¯•ç”¨çŠ¶æ€
document.addEventListener('DOMContentLoaded', function() {
  const statusElement = document.getElementById('trial-status');
  if (statusElement) {
    statusElement.style.display = 'block';
  }
  
});



// æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯
function showStatus(message, type) {
  console.log(`[çŠ¶æ€] ${message} (ç±»å‹: ${type})`);
  // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šçš„çŠ¶æ€æ˜¾ç¤ºé€»è¾‘
}

// ç­‰å¾…Z-Payæ”¯ä»˜ç³»ç»Ÿå®Œå…¨åŠ è½½
document.addEventListener('DOMContentLoaded', function() {
  console.log('âœ… é¡µé¢åŠ è½½å®Œæˆï¼Œæ”¯ä»˜ç³»ç»Ÿå·²å°±ç»ª');
  
  // æ£€æŸ¥æ”¯ä»˜å›è°ƒå‚æ•°
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('out_trade_no') || urlParams.get('trade_no')) {
    console.log('ğŸ‰ æ£€æµ‹åˆ°æ”¯ä»˜å›è°ƒ');
    // è¿™é‡Œå¯ä»¥å¤„ç†æ”¯ä»˜æˆåŠŸåçš„é€»è¾‘
    if (window.showUnifiedPaymentSuccess) {
      const accessCode = generateRandomCode();
      window.showUnifiedPaymentSuccess(accessCode, 'zpay-success');
    }
  }
  
  // æ£€æŸ¥Z-Payæ”¯ä»˜ç³»ç»Ÿæ˜¯å¦åŠ è½½
  if (typeof window.createZPayment === 'function') {
    console.log('âœ… Z-Payæ”¯ä»˜ç³»ç»Ÿå·²åŠ è½½');
  } else {
    console.warn('âš ï¸ Z-Payæ”¯ä»˜ç³»ç»ŸæœªåŠ è½½');
  }
});

// ç”Ÿæˆéšæœºè®¿é—®ç 
function generateRandomCode() {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  let code = '';
  for (let i = 0; i < 12; i++) {
    code += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return code;
}

// å¤„ç†è¾“å…¥å˜åŒ–ï¼ˆå€Ÿé‰´ melody-generator.html çš„é£æ ¼ï¼‰
function handleInputChange() {
    const input = document.getElementById('access-code-input');
    const button = document.getElementById('verify-btn');
    
    if (input && button) {
        const code = input.value.trim();
        const isValid = code.length >= 11 && code.length <= 12 && /^[A-Z0-9]+$/.test(code);
        
        // ä¿®æ”¹é€æ˜åº¦é€»è¾‘ï¼šè¾“å…¥æ¡†ä¸ºç©ºæˆ–æœ‰æ•ˆæ—¶éƒ½ä¿æŒå®Œå…¨ä¸é€æ˜
        button.dataset.valid = isValid;
        button.style.opacity = '1'; // å§‹ç»ˆä¿æŒå®Œå…¨ä¸é€æ˜
        button.style.cursor = isValid ? 'pointer' : 'not-allowed';
        button.style.background = '#667eea';
        
        console.log('ğŸ”„ è¾“å…¥å˜åŒ–å¤„ç†:', { code, isValid });
    }
}

// å¤„ç†éªŒè¯æŒ‰é’®ç‚¹å‡»
function handleVerifyClick() {
    console.log('ğŸ¯ éªŒè¯æŒ‰é’®è¢«ç‚¹å‡»');
    const button = document.getElementById('verify-btn');
    
    if (!button) {
        console.error('âŒ æ‰¾ä¸åˆ°éªŒè¯æŒ‰é’®');
        return;
    }
    
    const isValid = button.dataset.valid === 'true';
    console.log('ğŸ” æŒ‰é’®çŠ¶æ€æ£€æŸ¥:', { isValid });
    
    if (!isValid) {
        console.log('âš ï¸ æŒ‰é’®å¤„äºç¦ç”¨çŠ¶æ€ï¼Œä¸æ‰§è¡ŒéªŒè¯');
        const resultDiv = document.getElementById('verify-result');
        if (resultDiv) {
            resultDiv.innerHTML = '<span style="color: #e74c3c;">âŒ è¯·è¾“å…¥æœ‰æ•ˆçš„11-12ä½è®¿é—®ç </span>';
        }
        return;
    }
    
    // æ‰§è¡ŒéªŒè¯
    console.log('âœ… å¼€å§‹æ‰§è¡Œè®¿é—®ç éªŒè¯');
    verifyAccessCodeWithServer();
}

// ä¿æŒæ—§å‡½æ•°å…¼å®¹æ€§
function updateVerifyButton() {
    handleInputChange();
}

// æµ‹è¯•éªŒè¯åŠŸèƒ½
function testVerifyFunction() {
    console.log('ğŸ§ª æµ‹è¯•éªŒè¯åŠŸèƒ½...');
    const input = document.getElementById('access-code-input');
    const resultDiv = document.getElementById('verify-result');
    
    if (input && resultDiv) {
        input.value = 'VTTBY9XCFTQY';
        handleInputChange(); // æ›´æ–°æŒ‰é’®çŠ¶æ€
        resultDiv.innerHTML = '<span style="color: #27ae60;">ğŸ§ª æµ‹è¯•æ¨¡å¼ - è®¿é—®ç å·²å¡«å…¥ï¼ŒæŒ‰é’®ç°åœ¨åº”è¯¥å¯ä»¥ç‚¹å‡»äº†</span>';
        console.log('âœ… å·²å¡«å…¥æµ‹è¯•è®¿é—®ç ï¼ŒæŒ‰é’®çŠ¶æ€å·²æ›´æ–°');
        
        // ç»™å‡ºæ˜ç¡®çš„æµ‹è¯•è¯´æ˜
        setTimeout(() => {
            resultDiv.innerHTML = '<span style="color: #3498db;">ğŸ’¡ ç°åœ¨ç‚¹å‡»"éªŒè¯"æŒ‰é’®æµ‹è¯•åŠŸèƒ½</span>';
        }, 2000);
    }
}

// ä½¿ç”¨æœåŠ¡å™¨ç«¯éªŒè¯è®¿é—®ç 
async function verifyAccessCodeWithServer() {
    const input = document.getElementById('access-code-input');
    const resultDiv = document.getElementById('verify-result');
    const button = document.getElementById('verify-btn');
    
    if (!input || !resultDiv) {
        console.error('âŒ æ‰¾ä¸åˆ°å¿…è¦çš„é¡µé¢å…ƒç´ ');
        return;
    }
    
    const code = input.value.trim().toUpperCase();
    if (!code) {
        resultDiv.innerHTML = '<span style="color: #e74c3c;">âŒ è¯·è¾“å…¥è®¿é—®ç </span>';
        return;
    }
    
    if (code.length !== 12 && code.length !== 11) {
        resultDiv.innerHTML = '<span style="color: #e74c3c;">âŒ è®¿é—®ç å¿…é¡»æ˜¯11-12ä½</span>';
        return;
    }
    
    if (!/^[A-Z0-9]+$/.test(code)) {
        resultDiv.innerHTML = '<span style="color: #e74c3c;">âŒ è®¿é—®ç åªèƒ½åŒ…å«å­—æ¯å’Œæ•°å­—</span>';
        return;
    }

    // ç¦ç”¨æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»
    button.disabled = true;
    button.style.opacity = '0.5';
    resultDiv.innerHTML = '<span style="color: #3498db;">ğŸ”„ æ­£åœ¨éªŒè¯è®¿é—®ç ...</span>';

    try {
        // ç­‰å¾… PaymentStateManager åŠ è½½
        if (!window.paymentManager) {
            resultDiv.innerHTML = '<span style="color: #f39c12;">â³ æ­£åœ¨åŠ è½½éªŒè¯ç³»ç»Ÿ...</span>';
            
            // ç­‰å¾…æœ€å¤š5ç§’è®©PaymentStateManageråŠ è½½
            let attempts = 0;
            while (!window.paymentManager && attempts < 50) {
                await new Promise(resolve => setTimeout(resolve, 100));
                attempts++;
            }
            
            if (!window.paymentManager) {
                throw new Error('éªŒè¯ç³»ç»ŸåŠ è½½è¶…æ—¶ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
            }
        }
        
        console.log('ğŸ” ä½¿ç”¨ PaymentStateManager éªŒè¯è®¿é—®ç :', code);
        resultDiv.innerHTML = '<span style="color: #3498db;">ğŸ”„ æ­£åœ¨æœåŠ¡å™¨éªŒè¯...</span>';
        
        const result = await window.paymentManager.verifyAccessCode(code, true);
        
        if (result.success) {
            console.log('âœ… è®¿é—®ç éªŒè¯æˆåŠŸ:', result.data);

            // ç«‹å³è®¾ç½®å®Œæ•´ç‰ˆçŠ¶æ€
            localStorage.setItem('ic_full_version', 'true');
            localStorage.setItem('ic_verified_from_access_page', 'true');
            localStorage.setItem('ic_verified_timestamp', Date.now().toString());
            console.log('ğŸ¯ è®¿é—®ç éªŒè¯æˆåŠŸï¼Œå·²è®¾ç½®å®Œæ•´ç‰ˆçŠ¶æ€');

            resultDiv.innerHTML = '<span style="color: #27ae60;">âœ… è®¿é—®ç éªŒè¯æˆåŠŸï¼</span>';

            // é‡æ–°å¯ç”¨æŒ‰é’®
            button.disabled = false;
            button.style.opacity = '1';

            // å»¶è¿Ÿæ˜¾ç¤ºå¼¹çª—ï¼Œè®©ç”¨æˆ·çœ‹åˆ°æˆåŠŸæ¶ˆæ¯
            setTimeout(() => {
                showPaymentSuccessPopup(code, result.data);
            }, 800);
            
        } else {
            console.log('âŒ è®¿é—®ç éªŒè¯å¤±è´¥:', result.error);
            resultDiv.innerHTML = `<span style="color: #e74c3c;">âŒ ${result.error}</span>`;
            button.disabled = false;
            button.style.opacity = '1';
        }
    } catch (error) {
        console.error('éªŒè¯è®¿é—®ç å¤±è´¥:', error);
        resultDiv.innerHTML = `<span style="color: #e74c3c;">âŒ ${error.message || 'éªŒè¯å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'}</span>`;
        button.disabled = false;
        button.style.opacity = '1';
    }
}

// æ˜¾ç¤ºæ”¯ä»˜æˆåŠŸå¼¹çª—
function showPaymentSuccessPopup(accessCode, orderData) {
    // åˆ›å»ºå¼¹çª—HTML
    const popup = document.createElement('div');
    popup.id = 'success-popup';
    popup.innerHTML = `
        <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.7); display: flex; align-items: center; justify-content: center; z-index: 10000; padding: 20px; box-sizing: border-box;" id="modal-overlay">
            <div style="background: white; padding: 40px; border-radius: 16px; max-width: 500px; width: 90%; text-align: center; box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3); max-height: 80vh; overflow-y: auto; -webkit-overflow-scrolling: touch; overscroll-behavior: contain;" id="modal-scroll-container">
                <div style="margin-bottom: 30px;">
                    <div style="width: 80px; height: 80px; background: #4CAF50; border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 48px;">âœ“</div>
                    <h2 style="color: #333; margin-bottom: 10px;">ğŸ‰ è®¿é—®éªŒè¯æˆåŠŸï¼</h2>
                    <p style="color: #666; font-size: 16px; margin-bottom: 0;">æ‚¨çš„è®¿é—®ç å·²éªŒè¯ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨å®Œæ•´ç‰ˆåŠŸèƒ½</p>
                </div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 30px; text-align: left;">
                    <h3 style="color: #333; margin-bottom: 15px; text-align: center;">ğŸ“‹ éªŒè¯ä¿¡æ¯</h3>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; align-items: center;">
                        <span style="color: #666;">è®¿é—®ç ï¼š</span>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-family: monospace; font-weight: bold; background: #f1f5f9; padding: 4px 8px; border-radius: 4px; border: 1px solid #e2e8f0;">${accessCode}</span>
                            <button onclick="copyAccessCode('${accessCode}')" 
                                    style="background: #3b82f6; color: white; border: none; padding: 6px 10px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600; transition: all 0.2s ease;"
                                    onmouseover="this.style.background='#2563eb'"
                                    onmouseout="this.style.background='#3b82f6'"
                                    title="å¤åˆ¶è®¿é—®ç ">
                                ğŸ“‹
                            </button>
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #666;">äº§å“ï¼š</span>
                        <span>${orderData.product_name || 'IC Studio è§†å¥å·¥å…·'}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #666;">éªŒè¯æ—¶é—´ï¼š</span>
                        <span>${new Date().toLocaleString()}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span style="color: #666;">è®¢å•å·ï¼š</span>
                        <span style="font-family: monospace; background: #f1f5f9; padding: 4px 8px; border-radius: 4px; border: 1px solid #e2e8f0;">${(orderData.order_info?.out_trade_no) || (orderData.order_info?.order_id) || orderData.out_trade_no || orderData.order_id || orderData.orderId || 'æš‚æ— '}</span>
                    </div>
                </div>

                <div style="margin-bottom: 30px;">
                    <h3 style="color: #333; margin-bottom: 20px;">ğŸ“¦ ä¸‹è½½å®‰è£…åŒ…</h3>
                    <div style="display: grid; gap: 10px;">
                        <button class="popup-download-btn" data-platform="windows-x64"
                               style="display: block; background: #f0f9ff; color: #1e40af; padding: 12px 20px; border: 2px solid #93c5fd; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; cursor: pointer; border: none; width: 100%;"
                               onmouseover="this.style.background='#1e40af'; this.style.color='white';" 
                               onmouseout="this.style.background='#f0f9ff'; this.style.color='#1e40af';">
                            ğŸ’» Windows x64 (73.2MB)
                        </button>
                        <button class="popup-download-btn" data-platform="macos-x64-dmg"
                               style="display: block; background: #f0fdf4; color: #166534; padding: 12px 20px; border: 2px solid #86efac; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; cursor: pointer; border: none; width: 100%;"
                               onmouseover="this.style.background='#166534'; this.style.color='white';" 
                               onmouseout="this.style.background='#f0fdf4'; this.style.color='#166534';">
                            ğŸ macOS Intel (DMG - 86.2MB)
                        </button>
                        <button class="popup-download-btn" data-platform="macos-arm64"
                               style="display: block; background: #fef3c7; color: #92400e; padding: 12px 20px; border: 2px solid #fbbf24; border-radius: 8px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; cursor: pointer; border: none; width: 100%;"
                               onmouseover="this.style.background='#92400e'; this.style.color='white';" 
                               onmouseout="this.style.background='#fef3c7'; this.style.color='#92400e';">
                            ğŸ macOS Apple Silicon (DMG)
                        </button>
                    </div>
                    <p style="font-size: 12px; color: #888; margin-top: 15px;">ä¸‹è½½å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸Šè®¿é—®ç æ¿€æ´»å®Œæ•´ç‰ˆåŠŸèƒ½</p>
                </div>

                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button onclick="closeSuccessPopup()" 
                            style="padding: 15px 30px; background: #f8f9fa; color: #333; border: 2px solid #e2e8f0; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;"
                            onmouseover="this.style.background='#e2e8f0'" 
                            onmouseout="this.style.background='#f8f9fa'">
                        ç¨åä½¿ç”¨
                    </button>
                    <button onclick="goToSightReadingTool()" 
                            style="padding: 15px 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); transition: all 0.3s ease;"
                            onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 6px 20px rgba(102, 126, 234, 0.4)'" 
                            onmouseout="this.style.transform='translateY(0px)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.3)'">
                        å¼€å§‹ä½¿ç”¨
                    </button>
                </div>
            </div>
        </div>
    `;
    
    document.body.appendChild(popup);

    // å¼ºåˆ¶é”å®šèƒŒæ™¯æ»šåŠ¨
    window.modalScrollTop = window.pageYOffset || document.documentElement.scrollTop;
    document.body.style.position = 'fixed';
    document.body.style.top = `-${window.modalScrollTop}px`;
    document.body.style.left = '0';
    document.body.style.right = '0';
    document.body.style.width = '100%';
    document.body.style.overflow = 'hidden';

    // æ™ºèƒ½äº‹ä»¶å¤„ç†å™¨ - åªé˜»æ­¢å¼¹çª—å¤–çš„æ»šåŠ¨
    window.modalPreventAllScroll = function(e) {
        // æ£€æŸ¥äº‹ä»¶ç›®æ ‡æ˜¯å¦åœ¨å¼¹çª—å†…
        const modalContent = e.target.closest('#modal-scroll-container');
        if (!modalContent) {
            // ä¸åœ¨å¼¹çª—å†…ï¼Œé˜»æ­¢æ»šåŠ¨
            e.preventDefault();
            e.stopPropagation();
            return false;
        }
    };

    document.addEventListener('touchmove', window.modalPreventAllScroll, { passive: false, capture: true });
    document.addEventListener('wheel', window.modalPreventAllScroll, { passive: false, capture: true });
    document.addEventListener('scroll', window.modalPreventAllScroll, { passive: false, capture: true });

    // å¼¹çª—æ»šåŠ¨æ§åˆ¶
    const modalOverlay = popup.querySelector('#modal-overlay');
    const modalScrollContainer = popup.querySelector('#modal-scroll-container');

    if (modalOverlay) {
        // ç‚¹å‡»èƒŒæ™¯å…³é—­å¼¹çª—
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeSuccessPopup();
            }
        });
    }

    if (modalScrollContainer) {
        // é‡æ–°å¯ç”¨å¼¹çª—å†…çš„æ»šåŠ¨ï¼ŒåŒæ—¶é˜»æ­¢äº‹ä»¶ä¼ æ’­
        const enableModalScroll = function(e) {
            e.stopPropagation(); // é˜»æ­¢ä¼ æ’­åˆ°document
        };

        modalScrollContainer.addEventListener('touchstart', enableModalScroll, { passive: true });
        modalScrollContainer.addEventListener('touchmove', enableModalScroll, { passive: true });
        modalScrollContainer.addEventListener('wheel', enableModalScroll, { passive: true });
        modalScrollContainer.addEventListener('scroll', enableModalScroll, { passive: true });
    }

    // ç»‘å®šå¼¹çª—ä¸‹è½½æŒ‰é’®äº‹ä»¶
    bindPopupDownloadEvents(accessCode);
}

// å…³é—­æˆåŠŸå¼¹çª—
function closeSuccessPopup() {
    const popup = document.getElementById('success-popup');
    if (popup) {
        popup.remove();

        // ç§»é™¤å…¨å±€æ»šåŠ¨é˜»æ­¢äº‹ä»¶ç›‘å¬å™¨
        if (window.modalPreventAllScroll) {
            document.removeEventListener('touchmove', window.modalPreventAllScroll, { capture: true });
            document.removeEventListener('wheel', window.modalPreventAllScroll, { capture: true });
            document.removeEventListener('scroll', window.modalPreventAllScroll, { capture: true });
            window.modalPreventAllScroll = null;
        }

        // æ¢å¤bodyæ»šåŠ¨
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.left = '';
        document.body.style.right = '';
        document.body.style.width = '';
        document.body.style.overflow = '';

        // æ¢å¤åˆ°ä¹‹å‰çš„æ»šåŠ¨ä½ç½®
        if (window.modalScrollTop) {
            window.scrollTo(0, window.modalScrollTop);
            window.modalScrollTop = null;
        }
    }
}

// å‰å¾€è§†å¥å·¥å…·é¡µé¢
function goToSightReadingTool() {
    // åœ¨è·³è½¬å‰è®¾ç½®å®Œæ•´ç‰ˆçŠ¶æ€
    localStorage.setItem('ic_full_version', 'true');
    localStorage.setItem('ic_verified_from_access_page', 'true');
    localStorage.setItem('ic_verified_timestamp', Date.now().toString());

    console.log('ğŸ¯ è®¾ç½®å®Œæ•´ç‰ˆçŠ¶æ€ï¼Œå‡†å¤‡è·³è½¬åˆ°å·¥å…·é¡µé¢');

    closeSuccessPopup();
    // è·³è½¬åˆ°å®Œæ•´ç‰ˆè§†å¥å·¥å…·é¡µé¢
    window.open('/tools/melody-generator.html', '_blank');
}

// ç¡®ä¿æ‰€æœ‰åŠŸèƒ½åœ¨DOMåŠ è½½åå°±ç»ª
document.addEventListener('DOMContentLoaded', function() {
    console.log('ğŸ”§ IC Studio è§†å¥å·¥å…·é¡µé¢åˆå§‹åŒ–å¼€å§‹...');
    
    // æ£€æŸ¥å…³é”®å…ƒç´ 
    const input = document.getElementById('access-code-input');
    const button = document.getElementById('verify-btn');
    const resultDiv = document.getElementById('verify-result');
    
    if (!input || !button || !resultDiv) {
        console.error('âŒ å…³é”®é¡µé¢å…ƒç´ ç¼ºå¤±');
        return;
    }
    
    console.log('âœ… é¡µé¢å…ƒç´ æ£€æŸ¥é€šè¿‡');
    
    // ç¡®ä¿æŒ‰é’®åˆå§‹çŠ¶æ€æ­£ç¡®
    handleInputChange();
    
    // æ£€æŸ¥PaymentStateManagerçŠ¶æ€
    function checkPaymentManager() {
        if (window.paymentManager) {
            console.log('âœ… PaymentStateManager å·²å°±ç»ª');
            
            // æ£€æŸ¥æ˜¯å¦æœ‰å·²æ”¯ä»˜çŠ¶æ€
            const hasPaid = window.paymentManager.hasPaidAccess();
            if (hasPaid) {
                console.log('ğŸ‰ æ£€æµ‹åˆ°å·²æ”¯ä»˜çŠ¶æ€');
                const accessCode = window.paymentManager.getCurrentAccessCode();
                if (accessCode) {
                    console.log('ğŸ’¡ å½“å‰è®¿é—®ç :', accessCode);
                }
            }
        } else {
            console.log('â³ ç­‰å¾… PaymentStateManager åŠ è½½...');
            setTimeout(checkPaymentManager, 500);
        }
    }
    
    // å»¶è¿Ÿæ£€æŸ¥PaymentStateManagerï¼ˆç»™è„šæœ¬åŠ è½½æ—¶é—´ï¼‰
    setTimeout(checkPaymentManager, 1000);
    
    console.log('ğŸ¯ è®¿é—®ç éªŒè¯åŠŸèƒ½å·²åˆå§‹åŒ–å®Œæˆ');
    console.log('ğŸ’¡ ç°åœ¨å¯ä»¥è¾“å…¥æœ‰æ•ˆçš„è®¿é—®ç è¿›è¡ŒéªŒè¯äº†');
    console.log('ğŸ§ª æµ‹è¯•åŠŸèƒ½: testVerifyFunction() - è‡ªåŠ¨å¡«å…¥æµ‹è¯•è®¿é—®ç ');
});

// é€€æ¬¾åŠŸèƒ½å·²ç§»è‡³ /js/refund-handler.js

// æš´éœ²æµ‹è¯•å‡½æ•°åˆ°å…¨å±€ä½œç”¨åŸŸ
window.testVerifyFunction = testVerifyFunction;

// æµ‹è¯•å‡½æ•°å·²ç§»è‡³ refund-handler.js

</script>


      

    </div>

    

    <footer id="content-footer" class="not-prose">
      
      

    </footer>

  </article>


  </aside>

</div>
  
</main>
  <footer class="bg-zinc-100 py-10 md:py-14"><footer class="bg-zinc-100 py-10 md:py-14"><div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">

  <div class="flex flex-wrap space-y-6 mb-4">
  
    <div class="w-full md:w-3/5 flex flex-col space-y-4 md:pr-8 lg:pr-10">
  
    <a class="flex items-center group" href="https://icstudio.club/">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="mr-2 group-hover:animate-spin" viewBox="0 0 24 24">
        <path d="M13.75 2C13.75 1.58579 13.4142 1.25 13 1.25C12.5858 1.25 12.25 1.58579 12.25 2V14.5359C11.4003 13.7384 10.2572 13.25 9 13.25C6.37665 13.25 4.25 15.3766 4.25 18C4.25 20.6234 6.37665 22.75 9 22.75C11.6234 22.75 13.75 20.6234 13.75 18V6.243C14.9875 7.77225 16.8795 8.75 19 8.75C19.4142 8.75 19.75 8.41421 19.75 8C19.75 7.58579 19.4142 7.25 19 7.25C16.1005 7.25 13.75 4.8995 13.75 2Z"/>
        </svg>
      <span class="text-2xl font-semibold uppercase">IC STUDIO</span>
    </a>
  
    <p class="font-semibold">
      ä¸€èµ·åœ¨éŸ³ä¹çš„é“è·¯ä¸Šå‰è¿›å§ï¼
    </p>
  
    </div>
  
    <div class="self-center flex flex-col w-full md:w-2/5">
  
    <ul id="social-media" class="flex items-center space-x-4">
      <li>
        <a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://www.youtube.com/@ICStudio86#" target="_blank" rel="noopener noreferrer">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 24 24">
            <path d="M23.498 6.186a2.91 2.91 0 0 0-2.049-2.048C19.653 3.5 12 3.5 12 3.5s-7.653 0-9.449.638A2.91 2.91 0 0 0 .502 6.186C0 8.01 0 12 0 12s0 3.99.502 5.814a2.91 2.91 0 0 0 2.049 2.048C4.347 20.5 12 20.5 12 20.5s7.653 0 9.449-.638a2.91 2.91 0 0 0 2.049-2.048C24 15.99 24 12 24 12s0-3.99-.502-5.814ZM9.75 15.568V8.432L15.568 12Z"/>
          </svg> 
        </a>
      </li>
      <li>
        <a class="w-12 h-12 rounded-full bg-white hover:bg-zinc-200 flex items-center justify-center p-2" href="https://space.bilibili.com/376362605" target="_blank" rel="noopener noreferrer">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 1024 1024">
            <path d="M800 192h-72.3l59.9-128.7c4.6-10-0.2-21.7-10.2-26.3-10-4.6-21.7 0.2-26.3 10.2L683.8 192H340.2L272.9 47.2c-4.6-10-16.3-14.8-26.3-10.2s-14.8 16.3-10.2 26.3L296.3 192H224c-70.7 0-128 57.3-128 128v448c0 70.7 57.3 128 128 128h576c70.7 0 128-57.3 128-128V320c0-70.7-57.3-128-128-128zM896 768c0 53-43 96-96 96H224c-53 0-96-43-96-96V320c0-53 43-96 96-96h576c53 0 96 43 96 96v448zM384 640c17.7 0 32-14.3 32-32V416c0-17.7-14.3-32-32-32s-32 14.3-32 32v192c0 17.7 14.3 32 32 32zm256 0c17.7 0 32-14.3 32-32V416c0-17.7-14.3-32-32-32s-32 14.3-32 32v192c0 17.7 14.3 32 32 32z"/>
            </svg>
              
        </a>
      </li>
    </ul>
  
    </div>
    
  </div>
  
  
  
  <div class="border-t pt-4 flex justify-center items-center">
    <p class="text-sm text-center"> Copyright Â© 2026. All rights reserved. <a href="https://icstudio.club" target="_blank" rel="noopener">Igor Chen - icstudio.club</a></p>
  </div>
  
  </div>
  </footer></footer>
      <script src="/js/insertoggle.js"></script>


<script src="https://unpkg.com/lunr@2.3.9/lunr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lunr-languages@1.10.0/lunr.zh.js"></script>
      <script src="/js/search.js"></script>
  
</body>
</html>
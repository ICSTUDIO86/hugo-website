<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ¬åœ°å­˜å‚¨è°ƒè¯•å·¥å…·</title>
    <style>
        body { font-family: monospace; margin: 20px; }
        .storage-item { margin: 10px 0; padding: 10px; border: 1px solid #ddd; }
        .key { font-weight: bold; color: #333; }
        .value { color: #666; white-space: pre-wrap; }
        button { margin: 5px; padding: 8px 16px; }
        .dangerous { background: #dc3545; color: white; }
    </style>
</head>
<body>
    <h1>ğŸ” æœ¬åœ°å­˜å‚¨è°ƒè¯•å·¥å…·</h1>
    
    <button onclick="showAllStorage()">æ˜¾ç¤ºæ‰€æœ‰å­˜å‚¨</button>
    <button onclick="showICRelatedStorage()">æ˜¾ç¤ºICç›¸å…³å­˜å‚¨</button>
    <button class="dangerous" onclick="clearAllICStorage()">æ¸…é™¤æ‰€æœ‰ICå­˜å‚¨</button>
    <button class="dangerous" onclick="clearAllStorage()">æ¸…é™¤æ‰€æœ‰å­˜å‚¨</button>
    
    <div id="storage-display"></div>

    <script>
        function showAllStorage() {
            const display = document.getElementById('storage-display');
            display.innerHTML = '<h2>ğŸ“¦ æ‰€æœ‰æœ¬åœ°å­˜å‚¨é¡¹ç›®</h2>';
            
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                const value = localStorage.getItem(key);
                
                display.innerHTML += `
                    <div class="storage-item">
                        <div class="key">ğŸ”‘ ${key}</div>
                        <div class="value">${value}</div>
                    </div>
                `;
            }
            
            if (localStorage.length === 0) {
                display.innerHTML += '<p>æ²¡æœ‰æ‰¾åˆ°ä»»ä½•å­˜å‚¨é¡¹ç›®</p>';
            }
        }
        
        function showICRelatedStorage() {
            const display = document.getElementById('storage-display');
            display.innerHTML = '<h2>ğŸ¯ IC Studioç›¸å…³å­˜å‚¨</h2>';
            
            const icKeys = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.toLowerCase().includes('ic')) {
                    icKeys.push(key);
                }
            }
            
            if (icKeys.length === 0) {
                display.innerHTML += '<p>âœ… æ²¡æœ‰æ‰¾åˆ°ICç›¸å…³çš„å­˜å‚¨é¡¹ç›®</p>';
            } else {
                icKeys.forEach(key => {
                    const value = localStorage.getItem(key);
                    display.innerHTML += `
                        <div class="storage-item">
                            <div class="key">ğŸ”‘ ${key}</div>
                            <div class="value">${value}</div>
                            <button onclick="removeItem('${key}')" class="dangerous">åˆ é™¤</button>
                        </div>
                    `;
                });
            }
        }
        
        function clearAllICStorage() {
            if (!confirm('ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰ICç›¸å…³å­˜å‚¨å—ï¼Ÿ')) return;
            
            const keysToRemove = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.toLowerCase().includes('ic')) {
                    keysToRemove.push(key);
                }
            }
            
            keysToRemove.forEach(key => localStorage.removeItem(key));
            
            alert(`å·²æ¸…é™¤ ${keysToRemove.length} ä¸ªICç›¸å…³å­˜å‚¨é¡¹ç›®`);
            showICRelatedStorage();
        }
        
        function clearAllStorage() {
            if (!confirm('ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰æœ¬åœ°å­˜å‚¨å—ï¼Ÿè¿™ä¸å¯æ¢å¤ï¼')) return;
            
            localStorage.clear();
            alert('æ‰€æœ‰æœ¬åœ°å­˜å‚¨å·²æ¸…é™¤');
            showAllStorage();
        }
        
        function removeItem(key) {
            if (!confirm(`ç¡®å®šè¦åˆ é™¤ "${key}" å—ï¼Ÿ`)) return;
            
            localStorage.removeItem(key);
            alert(`å·²åˆ é™¤ "${key}"`);
            showICRelatedStorage();
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ˜¾ç¤ºICç›¸å…³å­˜å‚¨
        window.addEventListener('load', showICRelatedStorage);
    </script>
</body>
</html>